<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loan Portal â€“ Customer & Admin</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <div class="logo">â‚¹</div>
      <div>
        <h1>SwiftLoan</h1>
        <p class="tag">Simple â€¢ Fast â€¢ Transparent</p>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab-btn active" data-tab="customerTab">Customer</button>
      <button class="tab-btn" data-tab="adminTab">Admin</button>
    </nav>
  </header>

  <main class="container">
    <!-- ==================== CUSTOMER TAB ==================== -->
    <section id="customerTab" class="tab active">
      <div class="grid-2">
        <!-- Loan Request Card -->
        <div class="card">
          <h2 class="card-title">Loan Request</h2>
          <p class="muted">Enter your details to request a loan.</p>

          <div class="form">
            <label>Mobile Number</label>
            <input id="c_mobile" type="tel" placeholder="e.g. 9876543210" maxlength="10"/>

            <label>UPI ID</label>
            <input id="c_upi" type="text" placeholder="e.g. 9855559637@upi"/>

            <label>Principal Amount (â‚¹)</label>
            <input id="c_amount" type="number" min="500" step="100" placeholder="e.g. 10000"/>

            <div class="fx fx-sb pill">
              <span>Processing Fee (4%)</span>
              <strong id="feeView">â‚¹0</strong>
            </div>
            <div class="fx fx-sb pill">
              <span>Interest (32% p.a for 1 month)</span>
              <strong id="intView">â‚¹0</strong>
            </div>
            <div class="fx fx-sb pill total">
              <span>Total Payable in 1 Month</span>
              <strong id="totalView">â‚¹0</strong>
            </div>
            <div class="fx fx-sb pill">
              <span>Repayment Date</span>
              <strong id="repayView">â€”</strong>
            </div>

            <button id="btnPreviewAgreement" class="btn primary">Request Loan</button>
            <button class="btn ghost" id="btnCRefresh">Refresh Status</button>
          </div>
        </div>

        <!-- Tracking Card -->
        <div class="card">
          <h2 class="card-title">Loan Tracking</h2>
          <p class="muted">Watch your status update in real-time (refresh after admin action).</p>

          <div class="stepper" id="stepper">
            <div class="step">
              <div class="dot"></div>
              <div class="label">Pending Approval</div>
            </div>
            <div class="step">
              <div class="dot"></div>
              <div class="label">Approved</div>
            </div>
            <div class="step">
              <div class="dot"></div>
              <div class="label">Congratulations</div>
            </div>
          </div>

          <div class="summary">
            <div class="row">
              <span>Status</span><strong id="c_status">â€”</strong>
            </div>
            <div class="row">
              <span>Loan ID</span><strong id="c_id">â€”</strong>
            </div>
            <div class="row">
              <span>Principal</span><strong id="c_p">â‚¹0</strong>
            </div>
            <div class="row">
              <span>Processing Fee</span><strong id="c_fee">â‚¹0</strong>
            </div>
            <div class="row">
              <span>Interest (1 mo)</span><strong id="c_int">â‚¹0</strong>
            </div>
            <div class="row">
              <span>Total Payable</span><strong id="c_total">â‚¹0</strong>
            </div>
            <div class="row">
              <span>Repayment Date</span><strong id="c_repay">â€”</strong>
            </div>
          </div>

          <div id="congratsBox" class="congrats hidden">
            <h3>ðŸŽ‰ Congratulations!</h3>
            <p>Your loan has been disbursed. Please repay by the due date to keep your CIBIL score healthy.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== ADMIN TAB ==================== -->
    <section id="adminTab" class="tab">
      <div class="card">
        <h2 class="card-title">Admin Login</h2>
        <div class="form fx fx-gap">
          <input id="a_pass" type="password" placeholder="Enter Admin Password"/>
          <button id="btnALogin" class="btn primary">Login</button>
        </div>
        <p id="a_msg" class="error hidden">Invalid password.</p>
      </div>

      <div id="adminArea" class="hidden">
        <div class="fx fx-sb fx-wrap">
          <h2 class="card-title">Dashboard</h2>
          <div class="fx fx-gap">
            <input id="a_search" class="search" type="text" placeholder="Search by mobile/UPI/loan id"/>
            <button id="btnARefresh" class="btn ghost">Refresh</button>
          </div>
        </div>

        <div class="stats">
          <div class="stat">
            <div class="k">Total Requests</div>
            <div class="v" id="st_total">0</div>
          </div>
          <div class="stat">
            <div class="k">Pending</div>
            <div class="v" id="st_pending">0</div>
          </div>
          <div class="stat">
            <div class="k">Approved</div>
            <div class="v" id="st_approved">0</div>
          </div>
          <div class="stat">
            <div class="k">Paid</div>
            <div class="v" id="st_paid">0</div>
          </div>
        </div>

        <div class="card table-card">
          <div class="table-head">
            <div>Loan ID</div>
            <div>Mobile</div>
            <div>UPI</div>
            <div>Principal</div>
            <div>Total Payable</div>
            <div>Status</div>
            <div>Actions</div>
          </div>
          <div id="rows" class="table-body"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- ==================== AGREEMENT MODAL ==================== -->
  <div id="agreementModal" class="modal hidden">
    <div class="modal-card">
      <div class="modal-head">
        <h3>Loan Agreement & Disclosure</h3>
        <button class="icon-btn" id="btnCloseModal" aria-label="Close">âœ•</button>
      </div>
      <div class="modal-body">
        <p><strong>Important:</strong> Please read and accept before submitting your request.</p>
        <ol class="agreement">
          <li>
            I understand that a <strong>processing fee of 4% of the principal</strong> is applicable at the time of taking the loan.
          </li>
          <li>
            Interest is charged at <strong>32% per annum</strong>. For this loan, interest shown is for <strong>one month</strong>.
          </li>
          <li>
            The <strong>Total Payable</strong> shown is the amount to be repaid on the due date mentioned.
          </li>
          <li>
            In case of <strong>non-payment or delayed payment</strong>, my <strong>CIBIL/Credit score may be negatively impacted</strong> and late charges may apply as per policy.
          </li>
          <li>
            I consent to the use of my contact information for verification and to receive transactional notifications related to this loan.
          </li>
        </ol>

        <div class="fx fx-gap fx-center mt">
          <input id="agreeChk" type="checkbox" />
          <label for="agreeChk">I have read and I agree to the terms above.</label>
        </div>
      </div>
      <div class="modal-foot">
        <button class="btn ghost" id="btnCancelAgreement">Cancel</button>
        <button class="btn primary" id="btnSubmitLoan" disabled>Submit Request</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
